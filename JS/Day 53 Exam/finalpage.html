<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>

    <!-- Link Css -->
    <link rel="stylesheet" href="style.css">
    <!-- Link Css -->

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!-- Google Fonts -->

    <!-- font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- font Awesome Icons -->

</head>
<body>

    <header>
        <div class="main">
            <div class="logo">
                <img src="PNG_LOGO_280x.avif" alt="">
            </div>
            <nav>
                <div class="slide">
                    <p>Filters</p>
                    <select name="" id="sort-select">
                       <option value="high">High Price</option>
                       <option value="az">A - Z Product</option>
                       <option value="za">Z - A Product</option>
                    </select>
                </div>
            </nav>
           

            <div class="icons">
                <i class="fa-solid fa-magnifying-glass" id="search"></i>
                <input type="search" name="" id="" placeholder="Search">
               
                <i class="fa-solid fa-bag-shopping" id="cart"></i>
                <i class="fa-solid fa-heart"></i>
            </div>

           
        </div>


       
        
    </header>
    
   
    <div id="main1">

    </div>
</body>
</html>
<script>
    let data = [
        {
            image :"https://www.campusshoes.com/cdn/shop/products/SL-428_SL-428_D.GRY-S.GRN_1_720x.jpg?v=1670325641",
            title : "CAMP CLINT White Men's Sneakers",
            description : "Step into the spotlight with these eye-catching rainbow glitter high heels",
            price : "$ 563",
            size : "6 8"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/SL-423_SL-423_BLK-RED_1_720x.jpg?v=1705661229",
            title : "VIBGYOR Green Men's Sneakers",
            description : "Park Avenue Men Blue Checks Slim \n Fit Cotton Shirt",
            price : "₹2399",
            size : " 29 30 32 36"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/GC-1032B_GC-1032B_BLUE_1_300x.jpg?v=1670325402",
            title : "GC-1032B Blue Men's Flip Flops",
            description : "Park Avenue Men Blue Checks Slim \n Fit Cotton Shirt",
            price : "₹2199",
            size : " 29 30 32 36"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/SL-431_SL-431_M.BLU-F.GRN_1_300x.jpg?v=1670325389",
            title : "SL-431 Blue Men's Sliders",
            description : "Park Avenue Men Grey Solid Slim Fit \n Cotton Shirt",
            price : "₹1999",
            size : " 29 30 32 36"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/SL-432_SL-432_SHARPGRN-BLK_1_300x.jpg?v=1670325424",
            title : "SL-433 Blue Men's Sliders",
            description : "Men Grey Neo Classic Fit Polyester \n Blend Trouser",
            price : "₹1899",
            size : " 29 30 32 36"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/SL-424A_SL-424A_GRY-BLK_1_720x.jpg?v=1670325751",
            title : "CAMP CLINT White Men's Sneakers",
            description : "Men Grey Neo Classic Fit Polyester \n Blend Trouser",
            price : "₹1899",
            size : " 29 30 32 36"
        },
        {
            image : "https://www.campusshoes.com/cdn/shop/products/GC-1032A_GC-1032A_TAN_1_7bd1ea98-5fd7-490b-b2bb-5424a1b8bd6e_720x.jpg?v=1670325388",
            title : "SKATER Gray Women's Casual Shoes",
            description : "Men Green Low Rise Tapered Fit \n Solid Cotton Blend Trouser",
            price : "₹1899",
            size : "30 32"
        },
    ]

    function displaydata(data){
        document.getElementById("main1").innerText = ""
        data.map((el , i) => {
            let div = document.createElement("div")
            div.setAttribute("id" , "maindiv1")
            let pict = document.createElement("img")
            pict.setAttribute("src", el.image)
            pict.setAttribute("id", "photo")

            let tit = document.createElement("h4")
            tit.setAttribute("id","h4")
            tit.innerText = el.title

            let dri = document.createElement("p")
            dri.innerText = el.description

            let pri = document.createElement("h5")
            pri.setAttribute("id","price")
            pri.innerText = "" + el.price

            let size = document.createElement("p")
            size.innerText = "Size : " + el.size
            size.setAttribute("id" , "size")

            let btn = document.createElement("button")
            btn.innerText = "ADD TO BAG"
            btn.setAttribute("id","add")

            let like = document.createElement("img")
            like.setAttribute("src" , el.like)
            like.setAttribute("id" , "like")

            btn.addEventListener("click",function(){
            addTocart(i)
            })

            div.append(pict, tit, dri,size, pri ,btn )
            document.querySelector("#main1").append(div)
        })
    }
    displaydata(data)

    let sortselect = document.getElementById("sort-select")
    sortselect.addEventListener("change",()=>{
    let selected = sortselect.value
    let selectedvalue=[]

    if(selected==="low"){
        selectedvalue=data.slice().sort((a,b)=>a.price-b.price)
    }else if(selected==="high"){
        selectedvalue=data.slice().sort((a,b)=>b.price-a.price)   
    }else if(selected==="az")
    {
        selectedvalue=data.slice().sort((a,b)=>a.title.localeCompare(b.title))
    }
    else if(selected==="za")
    {
        selectedvalue=data.slice().sort((a,b)=>b.title.localeCompare(a.title))
    }

    displaydata(selectedvalue)
    })

    document.getElementById("cart").addEventListener("click",function(){
        window.open("cart.html")
    })

    function addTocart(index){
        let product = data.filter((el,i)=>{
            return i === index
        })  
        let products = JSON.parse(localStorage.getItem("cart")) || []
    products.push(product[0])

    let existingProduct = products.findIndex(p => p.id == product.id)

    if(existingProduct != -1){
        products[existingProduct].quantity += 1
    }else{
        products.push(product)
        product.quantity = 1
    }

    localStorage.setItem("cart",JSON.stringify(products))
    }

</script>